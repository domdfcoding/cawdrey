language: python
dist: xenial
python:
- '3.6'
- '3.7'
- '3.8'
install:
  - pip install coveralls -r tests/requirements.txt
script:
  - pytest --cov=cawdrey tests/
after_success:
  - coveralls
deploy:
  provider: pypi
  user: DomDF
  on:
    tags: true
    python: '3.6'
  distributions: sdist bdist_wheel
  skip_existing: true